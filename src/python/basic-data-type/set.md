---
title: 集合
date: 2022-01-10
category: python
tag:
  - python
---

## 概念

集合（set）是一个无序的不重复元素序列。使用大括号 `{ }` 或者`set()`函数创建集合。

注意：创建一个空集合必须用`set()`而不是 `{ }`，因为 `{ }` 是用来创建一个空字典。

```python
my_set1 = {1, 2, 3, 'a', 'b', 'c'}
my_set2 = set([1, 2, 3, 'a', 'b', 'c'])
print(my_set1)
print(my_set2)
# 输出：
# {'b', 2, 3, 1, 'a', 'c'}
# {'b', 1, 2, 3, 'a', 'c'}
```

注意，集合是一种无序的可迭代对象，因此集合中元素的顺序是不确定的。当打印这个集合时，Python会根据一些内部规则来决定如何排序和显示元素。

## 访问元素

由于集合中的元素是无序的，因此无法向列表那样使用下标访问元素。访问集合元素最常用的方法是使用循环结构，将集合中的数据逐一读取出来。

```python
my_set = {1, 2, 3, 'a', 'b', 'c'}
for i in my_set:
    print(i,end=' ')
# 输出结果：c 1 2 3 b a
```

## 添加元素

- `add()`方法

使用`add()`方法向集合中添加单个元素，使用 add() 方法只能添加不可变数据类型。如果集合中已经存在相同的元素，则 `add()`
方法不会添加新元素。

```python
my_set = {1, 2, 3, 'a', 'b', 'c'}
my_set.add(4)
print(my_set)
# 输出：{1, 2, 3, 'a', 4, 'b', 'c'}
```

该方法的语法格式为：

- upgrade()方法

`upgrade()`方法可以添加多个对象，并且接受任何可迭代对象作为参数，包括列表，元组和其他集合。

```python
my_set = {1, 2, 3}
my_list = [4, 5, 6]
my_set.update(my_list)
print(my_set)
# 输出：{1, 2, 3, 4, 5, 6}
```

## 删除元素

- **remove()方法**

使用`remove()`方法删除集合中的指定元素，如果指定元素不存在则会报错。

```python
my_set = {1, 2, 3, 'a', 'b', 'c'}
my_set.remove(1)
print(my_set)
# 输出：{2, 3, 'a', 'c', 'b'}
```

- **discard() 方法**

此方法和 remove() 方法的用法完全相同，唯一的区别就是，当指定元素不存在时，此方法不会抛出任何错误。

- **pop()方法**

此方法会随机删除集合中的一个元素，并返回该元素的值；若集合中不存在元素则会报错。

```python
my_set = {1, 2, 3, 'a', 'b', 'c'}
del_set = my_set.pop()
print(del_set)
# 输出：b
```

- **clear()方法****

此方法会直接清空集合，用法与列表的`clear()`方法一致。

## 判断成员关系

使用`in`和`not in`来判断元素是否在集合中。

```python
my_set = {1, 2, 3, 'a', 'b', 'c'}
print(1 in my_set) # True
print(4 in my_set) # False
print(1 not in my_set) #False
print(4 not in my_set) #True
```

## 集合运算

集合运算是用来处理集合的操作，包括交集、并集、差集、对称差集等。

以set1={1,2,3}，set2={3,4,5}为例：

| 运算操作 | 运算符    | 含义                                | 示例                                |
|------|--------|-----------------------------------|-----------------------------------|
| 交集   | &      | 取两集合公共重复的元素                       | set1 & set2 ---> {3}              |
| 并集   | &#124; | 取两集合全部的元素                         | set1 &#124; set2 ---> {1,2,3,4,5} |
| 差集   | -      | 从一个集合中去除另一个集合中的元素，得到一个新的集合        | set1 - set2 ---> {1,2}            |
| 对称差集 | ^      | 取两个集合的并集中不属于集合交集的元素，即两个集合之间不重复的元素 | set1 ^ set2 ---> {1,2,4,5}        |
